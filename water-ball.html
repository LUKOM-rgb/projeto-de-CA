<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Ball Animation</title>
    <style>
        canvas {
            border: 1px solid #000;
            display: block;
            margin: 20px auto;
        }
        .controls {
            text-align: center;
            margin: 10px;
        }
        button {
            padding: 10px 20px;
            margin: 0 10px;
            cursor: pointer;
            font-size: 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
        }
        button.active {
            background-color: #45a049;
            box-shadow: 0 0 5px rgba(0,0,0,0.3);
        }
        #waterInfo {
            text-align: center;
            margin: 10px;
            font-size: 18px;
            font-family: Arial, sans-serif;
            color: #0066cc;
        }
        .notes {
            text-align: center;
            margin: 20px auto;
            max-width: 600px;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 8px;
            font-family: Arial, sans-serif;
        }
        .notes h3 {
            color: #333;
            margin-bottom: 10px;
        }
        .notes p {
            color: #666;
            margin: 5px 0;
            font-size: 14px;
        }
        .capacity-info {
            font-weight: bold;
            color: #0066cc;
        }
    </style>
</head>
<body>
    <div class="notes">
        <h3>Instru√ß√µes de Uso</h3>
        <p>1. Selecione o objeto clicando nos bot√µes acima</p>
        <p>2. Clique no objeto para come√ßar a encher com √°gua</p>
        <p>3. Observe o volume de √°gua aumentar gradualmente</p>
        <div class="capacity-info">
            <p>Capacidades:</p>
            <p>üîµ Bola: 3000 litros</p>
            <p>üëñ Cal√ßas: 10000 litros</p>
        </div>
    </div>
    <div class="controls">
        <button id="ballButton" class="active">Bola</button>
        <button id="pantsButton">Cal√ßas</button>
    </div>
    <div id="waterInfo">0.0 L / 0.0 L</div>
    <canvas id="ballCanvas" width="400" height="400"></canvas>
    <script>
        // Inicializa√ß√£o do canvas e contexto de desenho
        const canvas = document.getElementById('ballCanvas');
        const ctx = canvas.getContext('2d');

        // Elementos da interface
        const ballButton = document.getElementById('ballButton');
        const pantsButton = document.getElementById('pantsButton');

        // Configura√ß√µes de posicionamento e tamanho
        const centerX = canvas.width / 2;  // Centro X do canvas
        const centerY = canvas.height / 2;  // Centro Y do canvas
        const radius = 80;  // Raio da bola e tamanho base das cal√ßas

        // Vari√°veis para controle do n√≠vel de √°gua
        let waterLevel = 0;  // N√≠vel atual da √°gua (0 a maxWaterLevel)
        const maxWaterLevel = radius * 2;  // N√≠vel m√°ximo que a √°gua pode atingir
        let targetWaterLevel = 0;  // N√≠vel alvo para anima√ß√£o
        const fillSpeed = 1;  // Velocidade de preenchimento da √°gua
        let currentShape = 'ball';  // Forma atual selecionada ('ball' ou 'pants')
        
        // Capacidade m√°xima de √°gua para cada forma em litros
        const capacities = {
            ball: 3000,    // Bola comporta 3 litros
            pants: 10000    // Cal√ßas comportam 7 litros
        };

        // Fun√ß√£o para desenhar as cal√ßas
        function drawPants() {
            ctx.save();  // Salva o estado atual do contexto
            
            // Desenha o formato das cal√ßas
            ctx.beginPath();
            // Cintura das cal√ßas
            ctx.moveTo(centerX - radius, centerY - radius);
            ctx.lineTo(centerX + radius, centerY - radius);
            // Perna direita
            ctx.lineTo(centerX + radius, centerY + radius);
            // Regi√£o central (entre as pernas)
            ctx.lineTo(centerX, centerY);
            // Perna esquerda
            ctx.lineTo(centerX - radius, centerY + radius);
            ctx.closePath();
            
            // Define a cor e desenha o contorno
            ctx.strokeStyle = '#000';
            ctx.stroke();
        }

        // Fun√ß√£o principal de desenho - chamada a cada frame
        function drawBall() {
            // Limpa todo o canvas para redesenhar
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            
            ctx.save();

            if (currentShape === 'ball') {
                // Desenha o c√≠rculo exterior (bola)
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                ctx.strokeStyle = '#000';
                ctx.stroke();
            } else {
                // Desenha as cal√ßas se n√£o for bola
                drawPants();
            }

            // Desenho da √°gua
            if (waterLevel > 0) {
                if (currentShape === 'ball') {
                    // Define a √°rea de recorte para a bola
                    ctx.beginPath();
                    ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                    ctx.clip();
                } else {
                    // Define a √°rea de recorte para as cal√ßas
                    ctx.beginPath();
                    ctx.moveTo(centerX - radius, centerY - radius);
                    ctx.lineTo(centerX + radius, centerY - radius);
                    ctx.lineTo(centerX + radius, centerY + radius);
                    ctx.lineTo(centerX, centerY);
                    ctx.lineTo(centerX - radius, centerY + radius);
                    ctx.closePath();
                    ctx.clip();
                }

                // Calcula a altura da √°gua baseado no n√≠vel atual
                const waterHeight = (waterLevel / maxWaterLevel) * (radius * 2);
                const waterY = centerY + radius - waterHeight;

                // Desenha o ret√¢ngulo base da √°gua
                ctx.beginPath();
                ctx.rect(centerX - radius, waterY, radius * 2, waterHeight);
                
                // Cria gradiente 
                const gradient = ctx.createLinearGradient(0, centerY - radius, 0, centerY + radius);
                gradient.addColorStop(0, 'rgba(0, 150, 255, 0.4)');  // √Ågua mais clara no topo
                gradient.addColorStop(1, 'rgba(0, 100, 255, 0.6)');  // √Ågua mais escura embaixo
                
                ctx.fillStyle = gradient;
                ctx.fill();
                
                // Adiciona efeito de onda na superf√≠cie da √°gua
                ctx.beginPath();
                ctx.moveTo(centerX - radius, waterY);
                for (let x = centerX - radius; x <= centerX + radius; x += 5) {
                    // Cria movimento de onda usando seno
                    const wave = Math.sin((x + Date.now() / 300) / 10) * 2;
                    ctx.lineTo(x, waterY + wave);
                }
                ctx.lineTo(centerX + radius, waterY);
                ctx.fillStyle = gradient;
                ctx.fill();
                
                // Reset clip
                ctx.restore();
            }

            
            if (waterLevel < targetWaterLevel) {
                waterLevel = Math.min(waterLevel + fillSpeed, targetWaterLevel);
                
                
                const maxCapacity = capacities[currentShape];
                const currentLiters = (waterLevel / maxWaterLevel) * maxCapacity;
                document.getElementById('waterInfo').textContent = 
                    `${currentLiters.toFixed(1)} L / ${maxCapacity} L`;
            }
        }

        function animate() {
            drawBall();
            requestAnimationFrame(animate);
        }

        // Fun√ß√£o para verificar se um clique est√° dentro da forma selecionada
        function isClickInShape(x, y) {
            if (currentShape === 'ball') {
                // Para a bola: calcula a dist√¢ncia do clique at√© o centro
                // Se a dist√¢ncia for menor que o raio, o clique foi dentro da bola
                const distance = Math.sqrt(Math.pow(x - centerX, 2) + Math.pow(y - centerY, 2));
                return distance <= radius;
            } else {
                // Para as cal√ßas: usa o m√©todo isPointInPath para verificar se o clique
                // est√° dentro do caminho definido pelas cal√ßas
                ctx.beginPath();
                ctx.moveTo(centerX - radius, centerY - radius);
                ctx.lineTo(centerX + radius, centerY - radius);
                ctx.lineTo(centerX + radius, centerY + radius);
                ctx.lineTo(centerX, centerY);
                ctx.lineTo(centerX - radius, centerY + radius);
                ctx.closePath();
                return ctx.isPointInPath(x, y);
            }
        }

        // Evento de clique no canvas
        canvas.addEventListener('click', function(event) {
            // Obt√©m a posi√ß√£o do clique relativa ao canvas
            const rect = canvas.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            
            // Verifica se o clique foi dentro da forma
            if (isClickInShape(x, y)) {
                // Define o n√≠vel alvo de √°gua para o m√°ximo
                targetWaterLevel = maxWaterLevel;
            }
        });

        // Manipulador de evento para o bot√£o da bola
        ballButton.addEventListener('click', function() {
            // Muda para a forma da bola
            currentShape = 'ball';
            // Reinicia os n√≠veis de √°gua
            waterLevel = 0;
            targetWaterLevel = 0;
            // Atualiza o display com a capacidade da bola
            document.getElementById('waterInfo').textContent = `0.0 L / ${capacities.ball} L`;
            // Atualiza os estilos dos bot√µes
            ballButton.classList.add('active');
            pantsButton.classList.remove('active');
        });

        // Manipulador de evento para o bot√£o das cal√ßas
        pantsButton.addEventListener('click', function() {
            // Muda para a forma das cal√ßas
            currentShape = 'pants';
            // Reinicia os n√≠veis de √°gua
            waterLevel = 0;
            targetWaterLevel = 0;
            // Atualiza o display com a capacidade das cal√ßas
            document.getElementById('waterInfo').textContent = `0.0 L / ${capacities.pants} L`;
            // Atualiza os estilos dos bot√µes
            pantsButton.classList.add('active');
            ballButton.classList.remove('active');
        });

        
        animate();
    </script>
</body>
</html>